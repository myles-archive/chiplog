{% extends 'base.html' %}
{% load markup %}
{% load humanize %}

{% block class %}{% if has_previous %} class="search paginated"{% else %} class="search"{% endif %}{% endblock %}

{% block search %}
<div id="search">
	<form action="/chiplog/search/" method="get" accept-charset="utf-8">
		<div><label for="s">Search</label><input type="text" value="" name="s" id="s" /></div>
	</form>
</div><!-- #search -->
{% endblock %}

{% block header %}
<div id="add">
	<a href="/chiplog/">New Entry</a>
</div><!-- #add -->
{% endblock %}

{% block content %}	
<h1>Search results for &lsquo;{{ search_term }}&rsquo;</h1>
{% if message %}<div id="message">{{ message }}</div>{% endif %}
<div id="entries">
	{% for entry in entry_list %}
		{% ifchanged %}<h2>{{ entry.created|naturalday:"l, F j, Y"|title }}</h2>{% endifchanged %}
		<div class="entry">
			<div class="meta">
				<span class="delete"><a href="/chiplog/delete/{{ entry.id }}/">&otimes;</a></span>
				<span class="date">
					<a href="/chiplog/edit/{{ entry.id }}">
						{{ entry.created|date:"g:i a" }}
					</a>
				</span>
			</div>
			<div class="content">
				{{ entry.body|markdown }}
			</div><!-- .content -->
		</div>
	{% endfor %}
</div><!-- #entries -->
{% endblock %}

{% block navigation %}
<div id="nav">
{% if is_paginated %}
  {% if has_next %}
  <a class="older" href="/chiplog/page/{{ next }}/">Older</a>
  {% endif %}
  {% if has_previous %}
  <a class="newer" href="/chiplog/page/{{ previous }}/">Newer</a>
  {% endif %}
{% else %}
<div class="empty_nav"></div>
{% endif %}
</div><!-- #nav -->
{% endblock %}
